<!-- 2zFjv0Z9UR3muwf0OoBNU6FuKOniCVk6s -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Button Fun</title>
    <style type="text/css">
      button,
      div,
      form,
      input {
        margin: 10px;
      }
    </style>
</head>

<body>
        <button data-brands="nike">swoosh</button>
        <button data-brands="adidas">3 stripes</button>
        <button data-brands="puma">forever faster</button>
        <div id="gifs-appear-here">
        </div>
       
        <!-- Rendered Buttons will get Dumped Here  -->
    <div id="buttons-view"></div>

    <form id="brand-form">
        <label for="brand-input">NEW BRAND</label>
        <input type="text" id="brand-input"><br>
  
        <!-- Button triggers new movie to be added -->
        <input id="add-brand" type="submit" value="Hype Beastin">
      </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      //initial array of brands
      let topics = ["nike", "adidas", "pumas", "underarmour"];
      
      function displayBrand() {

// event listener for random-button
//$("button").on("click", function() {

// Grabbing and storing the data-animal property value from the button
let brands = $(this).attr("data-brands");

          // Constructing a queryURL using the animal name
          var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
        brands + "&api_key=dc6zaTOxFJmzC&limit=10";

// Perfoming an AJAX GET request to our queryURL
$.ajax({
        url: queryURL,
        method: "GET"
      })

      // After the data from the AJAX request comes back
      .then(function(response) {
        console.log(queryURL);

        console.log(response);
        // storing the data from ajax request
        let results = response.data;

        $("#buttons-view").empty();

        // Looping through each result item
        for (var i = 0; i < results.length; i++) {

          // Saving the image_original_url property
          //var imageUrl = response.data.image_original_url;
          
          
          let a = $("<button");
          //class to button
          a.addClass("movie");
          //button text
          a.text(brand[i]);

          $("#buttons-view").append(a);
        }
      });

      
      // This function handles events where one button is clicked
      $("#add-movie").on("click", function(event) {
        event.preventDefault();

        // This line grabs the input from the textbox
        var movie = $("#movie-input").val().trim();

        // Adding the movie from the textbox to our array
        movies.push(movie);
        console.log(movies);

        // Calling renderButtons which handles the processing of our movie array
        renderButtons();
      });

      // Function for displaying the movie info
      // Using $(document).on instead of $(".movie").on to add event listeners to dynamically generated elements
      $(document).on("click", ".movie", displayMovieInfo);

      // Calling the renderButtons function to display the initial buttons
      renderButtons();
      };


        //   // Creating and storing a div tag
        //   let brandDiv = $("<div>");

        //   // Creating a paragraph tag with the result item's rating
        //   let p = $("<p>").text("Rating: " + results[i].rating);

        //   // Creating and storing an image tag
        //   let brandImage = $("<img>");

        //   // Setting the src attribute of the image to a property pulled off the result item
        //   brandImage.attr("src", results[i].images.fixed_height.url);

        //   // Setting the randomImage src attribute to imageUrl
        //  // brandDiv.attr("src", imageUrl);
        //  // brandDiv.attr("alt", "random image");

        //     // Appending the paragraph and image tag to the animalDiv
        //     brandDiv.append(p);
        //     brandDiv.append(brandImage);

        //   // Prepending the randomImage to the images div
        //   $("#gifs-appear-here").prepend(brandDiv);
        // }
    


  </script>
</body>
</html>